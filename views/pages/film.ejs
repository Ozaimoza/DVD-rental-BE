<!doctype html>
<html lang="en">
  <head>
    <%- include('../components/head') %>
  </head>
  <body class="">
    <!-- navbar -->
    <%- include('../components/navbar') %>
    
    <!-- Content -->
    <div class="d-flex justify-content-center p-5 ">
      <div class="mx-5 border bg-primary rounded-pill shadow p-3 mb-5 ">
        <h1 class="px-2" style="color: aliceblue;">LIST FILM</h1>
      </div>
    </div>

    <!-- card film -->
    <div class="d-flex justify-content-center p-5 gap-3 flex-wrap">
      
      <% for(var i=0; i < film.length ; i++) { %>
        <div class="col-md-2 mx-auto">
          <div class="card" style="width: 100%;">
            <div class="card-header">
              <H1><%= film[i].title %></H1>
            </div>
            <div class="card-body">
              <ul class="list-group list-group-flush">
                <li class="list-group-item">Language : <%= film[i].language %></li>
                <li class="list-group-item">Release : <%= film[i].release_year %></li>
                <li class="list-group-item">Rating : <%= film[i].rating %></li>
              </ul>
              <p class="card-text"><%= film[i].description %></p>
              <a href="/film/<%= film[i].film_id %>" class="btn btn-primary">Detail</a>
            </div>
          </div>
        </div>
      <% } %>
      
    </div>
    <!-- end of card film -->

  <!-- Pagination -->
  <div class="d-flex justify-content-center p-5">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">

        <!-- Tombol First -->
        <li class="page-item <%= parseInt(page) <= 1 ? 'disabled' : '' %>">
          <a class="page-link" href="/film/page/1">First</a>
        </li>

        <!-- Tombol Prev -->
        <li class="page-item <%= parseInt(page) <= 1 ? 'disabled' : '' %>">
          <a class="page-link" href="/film/page/<%= parseInt(page) - 1 %>">Prev</a>
        </li>

        <!-- Elemen Halaman -->
        <% for (var i = Math.max(1, parseInt(page) - 2); i <= Math.min(parseInt(page) + 2, parseInt(pagi)); i++) { %>
          <li class="page-item <%= parseInt(page) === i ? 'active' : '' %>">
            <a class="page-link" href="/film/page/<%= i %>"><%= i %></a>
          </li>
        <% } %>

        <!-- Tombol Next -->
        <li class="page-item <%= parseInt(page) >= parseInt(pagi) ? 'disabled' : '' %>">
          <a class="page-link" href="/film/page/<%= parseInt(page) + 1 %>">Next</a>
        </li>

        <!-- Tombol Last -->
        <li class="page-item <%= parseInt(page) >= parseInt(pagi) ? 'disabled' : '' %>">
          <a class="page-link" href="/film/page/<%= pagi %>">Last</a>
        </li>

      </ul>
    </nav>
  </div>





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>